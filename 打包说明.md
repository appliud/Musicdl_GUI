# 音乐下载器 - 打包说明

## 📦 打包成EXE

### 方法一：使用打包脚本（推荐）

1. 双击运行 `打包EXE.bat`
2. 选择要打包的版本：
   - [1] 命令行版本
   - [2] GUI版本
   - [3] 两个版本都打包
3. 等待打包完成（可能需要几分钟）
4. 打包好的EXE文件会在 `dist` 文件夹中

### 方法二：手动打包

#### 命令行版本
```bash
pyinstaller --clean --noconfirm --name "MusicDL-Console" --console --onefile musicdl_cmd.py
```

#### GUI版本
```bash
pyinstaller --clean --noconfirm --name "MusicDL-GUI" --windowed --onefile musicdl_gui.py
```

## 📋 打包参数说明

| 参数 | 说明 |
|------|------|
| `--clean` | 清理临时文件 |
| `--noconfirm` | 不询问确认 |
| `--name` | 指定输出文件名 |
| `--console` | 保留控制台窗口（命令行版本） |
| `--windowed` | 无控制台窗口（GUI版本） |
| `--onefile` | 打包成单个EXE文件 |

## 📂 输出文件

打包完成后，可执行文件位于：
- `dist/MusicDL-Console.exe` - 命令行版本
- `dist/MusicDL-GUI.exe` - GUI版本

## 💡 使用说明

### 命令行版本
```
MusicDL-Console.exe
```
- 在命令提示符窗口中运行
- 按提示输入平台和歌曲信息

### GUI版本
```
MusicDL-GUI.exe
```
- 双击即可打开图形界面
- 界面操作更直观

## 🔧 依赖要求

打包前需要安装：
- Python 3.8+
- PyInstaller
- musicdl库

## ⚠️ 注意事项

1. **文件较大**：打包后的EXE文件较大（约50-100MB），因为包含了Python环境和所有依赖
2. **首次运行慢**：首次运行需要解压，可能较慢
3. **杀毒软件**：某些杀毒软件可能误报，请添加信任
4. **系统要求**：Windows 10/11 64位系统

## 🚀 分发使用

打包后的EXE文件是独立的，可以：
- 复制到其他电脑使用
- 无需安装Python
- 无需安装任何依赖

## 📞 问题排查

如果打包失败：
1. 确保Python环境正常
2. 确保已安装PyInstaller: `pip install pyinstaller`
3. 确保musicdl库已安装: `pip install musicdl`
4. 查看错误信息，可能需要添加 `--hidden-import` 参数

## 📝 版权说明

本程序基于musicdl开源库开发，仅供学习交流使用。
